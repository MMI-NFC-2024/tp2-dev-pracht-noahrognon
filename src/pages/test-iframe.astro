---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <style>
    iframe {
      width: 100%;
      transition: height 0.2s;
      min-height: 85vh; /* grand par défaut sur PC */
    }
    @media (max-width: 768px) {
      iframe { min-height: 70vh; }
    }
  </style>

  <div class="mb-5 flex flex-wrap gap-3">
    <a class="inline-flex items-center gap-2 rounded-lg bg-slate-900 px-3 py-1.5 text-white shadow hover:bg-slate-800" href="/">Retour à l’accueil</a>
    <a class="inline-flex items-center gap-2 rounded-lg bg-white px-3 py-1.5 text-slate-800 shadow ring-1 ring-slate-200 hover:bg-slate-50" href="/species/Adelie">Voir les espèces</a>
    <a class="inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-3 py-1.5 text-white shadow hover:bg-indigo-500" href="/slider">Voir le slider</a>
  </div>
  <nav class="mb-6 flex flex-wrap items-center gap-2">
    <a class="inline-flex items-center gap-2 rounded-full bg-indigo-600 px-3 py-1.5 text-white shadow hover:bg-indigo-500" href="/species/Adelie?embed=1" target="speciesFrame">Adelie</a>
    <a class="inline-flex items-center gap-2 rounded-full bg-white px-3 py-1.5 text-slate-700 shadow-sm ring-1 ring-slate-200 hover:bg-slate-50" href="/species/Gentoo?embed=1" target="speciesFrame">Gentoo</a>
    <a class="inline-flex items-center gap-2 rounded-full bg-white px-3 py-1.5 text-slate-700 shadow-sm ring-1 ring-slate-200 hover:bg-slate-50" href="/species/Chinstrap?embed=1" target="speciesFrame">Chinstrap</a>
  </nav>
  <iframe
    class="rounded-xl border border-slate-200 bg-white shadow-sm"
    name="speciesFrame"
    id="speciesFrame"
    src="/species/Adelie?embed=1"
    onload="resizeIframe(this)"
  ></iframe>
  <script>
    function resizeIframe(iframe) {
      const min = Math.round(window.innerHeight * 0.85);
      try {
        const h = iframe.contentWindow.document.body.scrollHeight;
        iframe.style.height = Math.max(min, h) + "px";
      } catch (e) {
        iframe.style.height = min + "px"; // fallback PC
      }
    }
  </script>
</Layout>
